<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>News App HTML</title>
  <link rel="stylesheet" href="common.css">
  <style>
    /* 页面特定样式 */
    /* General styles */
    .top-nav {
      height: 56px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 16px;
      background-color: #FFF;
      border-bottom: 1px solid #EEEEEE;
      position: fixed;
      top: 44px;
      left: 0;
      right: 0;
      z-index: 100;
      max-width: var(--app-width);
      margin-left: auto;
      margin-right: auto;
    }

    .top-nav h1 {
      font-size: 18px;
      font-weight: bold;
    }

    .nav-icon {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 16px;
      background-color: #F6F6F6;
      cursor: pointer;
    }

    .bottom-nav {
      height: 56px;
      display: flex;
      align-items: center;
      justify-content: space-around;
      background-color: #FFF;
      border-top: 1px solid #EEEEEE;
      position: fixed;
      bottom: 0;
      width: 100%;
      max-width: 414px;
    }

    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      font-size: 12px;
      color: #999999;
      cursor: pointer;
    }

    .nav-item.active {
      color: #3366FF;
    }

    .nav-item .icon {
      margin-bottom: 4px;
      width: 22px;
      height: 22px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .nav-item.active .icon {
      background-color: #E8EFFF;
    }

    /* List page styles */
    .category-tabs {
      display: flex;
      padding: 8px 12px;
      overflow-x: auto;
      background-color: #FFF;
      white-space: nowrap;
      border-bottom: 1px solid #EEEEEE;
    }

    .category-tab {
      padding: 6px 12px;
      margin-right: 8px;
      border-radius: 15px;
      font-size: 14px;
      background-color: #F6F6F6;
      color: #666;
      cursor: pointer;
    }

    .category-tab.active {
      background-color: #3366FF;
      color: #FFF;
    }

    .news-list {
      padding: 12px;
    }

    .news-card {
      display: flex;
      padding: 16px;
      background-color: #FFF;
      border-radius: 12px;
      margin-bottom: 12px;
      box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.05);
      cursor: pointer;
    }

    .news-card:active {
      box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);
    }

    .news-image {
      width: 100px;
      height: 70px;
      border-radius: 8px;
      background-color: #F0F0F0;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #999;
      font-size: 12px;
      overflow: hidden;
    }

    .news-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .news-content {
      flex: 1;
      margin-left: 12px;
      overflow: hidden;
    }

    .news-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 8px;
      line-height: 1.3;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .news-info {
      display: flex;
      font-size: 12px;
      color: #666;
      margin-bottom: 8px;
    }

    .news-source {
      margin-right: 16px;
    }

    .news-time {
      color: #999;
    }

    .news-summary {
      font-size: 14px;
      color: #666;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    /* Detail page styles */
    .detail-container {
      padding: 16px;
      padding-top: 20px;
    }

    .detail-title {
      font-size: 20px;
      font-weight: bold;
      margin-bottom: 12px;
      line-height: 1.4;
    }

    .detail-info {
      display: flex;
      font-size: 14px;
      color: #666;
      margin-bottom: 16px;
    }

    .detail-source {
      margin-right: 16px;
    }

    .detail-time {
      color: #999;
    }

    .detail-content {
      font-size: 16px;
      line-height: 1.6;
      margin-bottom: 24px;
    }

    .divider {
      height: 8px;
      background-color: #F5F5F5;
      margin: 16px -16px;
    }

    .discussion-title {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 16px;
    }

    .chat-container {
      margin-bottom: 16px;
    }

    .chat-bubble {
      max-width: 85%;
      padding: 12px 16px;
      margin-bottom: 12px;
      border-radius: 12px;
      font-size: 14px;
    }

    .system-bubble {
      background-color: #F6F6F6;
      border-radius: 12px 12px 12px 0;
      align-self: flex-start;
    }

    .user-bubble {
      background-color: #E8EFFF;
      border-radius: 12px 12px 0 12px;
      margin-left: auto;
    }

    .ai-bubble {
      background-color: #E3F7EB;
      border-radius: 12px 12px 12px 0;
    }

    /* 相关话题样式 */
    .related-topics-container {
      margin-bottom: 24px;
    }

    .topic-card {
      display: flex;
      align-items: center;
      padding: 16px;
      background-color: #F8F9FA;
      border-radius: 12px;
      margin-bottom: 12px;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .topic-card:active {
      transform: scale(0.98);
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    }

    .topic-icon {
      width: 40px;
      height: 40px;
      background-color: #E8EFFF;
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      margin-right: 12px;
      flex-shrink: 0;
    }

    .topic-content {
      flex: 1;
      overflow: hidden;
    }

    .topic-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 4px;
      color: #333;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .topic-info {
      font-size: 12px;
      color: #666;
    }

    .topic-arrow {
      margin-left: 12px;
      color: #3366FF;
      font-size: 18px;
      flex-shrink: 0;
    }

    .ai-search-cta {
      background-color: #F0F7FF;
      border: 1px solid #D6E4FF;
      border-radius: 12px 12px 0 0;
      padding: 16px;
      position: fixed;
      bottom: 76px;
      left: 50%;
      transform: translateX(-50%);
      width: 90%;
      max-width: 374px;
      z-index: 100;
      box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.05);
      transition: transform 0.3s ease, bottom 0.3s ease;
    }

    .ai-search-cta.hidden {
      bottom: -100px;
    }

    .ai-search-header {
      display: flex;
      align-items: center;
      margin-bottom: 16px;
    }

    .ai-icon {
      width: 32px;
      height: 32px;
      background-color: #3366FF;
      border-radius: 16px;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      font-weight: bold;
      margin-right: 12px;
    }

    .ai-search-btn {
      background-color: #3366FF;
      color: white;
      border: none;
      border-radius: 20px;
      padding: 12px 24px;
      font-size: 16px;
      width: 100%;
      cursor: pointer;
    }

    /* AI search page styles */
    .search-container {
      padding: 16px;
    }

    .search-input-container {
      display: flex;
      align-items: center;
      margin-bottom: 24px;
    }

    .search-input {
      flex: 1;
      height: 48px;
      border-radius: 24px;
      background-color: #F6F6F6;
      border: 1px solid #EEEEEE;
      padding: 0 16px;
      font-size: 14px;
      outline: none;
    }

    .search-btn {
      width: 36px;
      height: 36px;
      background-color: #3366FF;
      border-radius: 18px;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-left: 8px;
      cursor: pointer;
    }

    .ai-response {
      background-color: #E3F7EB;
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 24px;
    }

    .ai-response-header {
      display: flex;
      align-items: center;
      margin-bottom: 12px;
    }

    .ai-response-avatar {
      width: 24px;
      height: 24px;
      background-color: #30CF6D;
      border-radius: 12px;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: bold;
      margin-right: 8px;
    }

    .related-questions {
      margin-bottom: 24px;
    }

    .related-questions h3 {
      font-size: 16px;
      font-weight: bold;
      margin-bottom: 12px;
    }

    .question-item {
      padding: 12px 16px;
      background-color: #F6F6F6;
      border-radius: 8px;
      font-size: 14px;
      margin-bottom: 8px;
      cursor: pointer;
    }

    .bottom-input-container {
      position: fixed;
      bottom: 16px;
      left: 0;
      right: 0;
      padding: 0 16px;
      display: flex;
      align-items: center;
      max-width: 414px;
      margin: 0 auto;
    }

    .bottom-input {
      flex: 1;
      height: 48px;
      border-radius: 24px;
      background-color: #F6F6F6;
      border: 1px solid #EEEEEE;
      padding: 0 16px;
      font-size: 14px;
      outline: none;
    }

    .bottom-send-btn {
      width: 40px;
      height: 40px;
      background-color: #3366FF;
      border-radius: 20px;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-left: 8px;
      font-size: 18px;
      cursor: pointer;
    }

    /* Page transition animation */
    .page {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      transform: translateX(100%);
      transition: transform 0.3s ease;
      background-color: #FFF;
      display: none;
      padding-top: 0; /* 确保页面顶部没有额外的内边距 */
    }

    .page.active {
      transform: translateX(0);
      display: block;
    }

    /* Back button */
    .back-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    .app-container {
      width: var(--app-width);
      height: var(--app-height);
      margin: 0 auto;
      background-color: var(--container-bg);
      display: flex;
      flex-direction: column;
      position: relative;
      border-radius: var(--app-border-radius);
      overflow: hidden;
      box-shadow: var(--app-shadow);
    }

    html, body {
      width: 100%;
      height: 100%;
      overflow: hidden;
      position: fixed;
      touch-action: manipulation;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: var(--background);
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro", "Segoe UI", Roboto, sans-serif;
      color: #333;
      line-height: 1.5;
    }

    .content-area {
      flex: 1;
      overflow-y: auto;
      padding-top: 76px; /* 从100px减小到76px，使内容区域不会下移过多 */
      padding-bottom: 76px;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
      -ms-overflow-style: none;
    }

    .down-icon {
      color: #FF3333;
    }
    
    /* 点赞/踩动画效果 */
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.3); }
      100% { transform: scale(1); }
    }
    
    .pulse-animation {
      animation: pulse 0.3s ease-in-out;
    }
    
    /* 互动操作区域 */
    .interaction-bar {
      display: flex;
      align-items: center;
      justify-content: space-around;
      padding: 8px;
      background-color: #FFF;
      border-top: 1px solid #EEEEEE;
      margin-bottom: 16px;
    }
    
    .interaction-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: pointer;
      transition: transform 0.2s;
    }
    
    .interaction-item:hover {
      transform: translateY(-2px);
    }
    
    .interaction-icon {
      font-size: 20px;
      margin-bottom: 4px;
    }
    
    .interaction-count {
      font-size: 12px;
      color: #666;
    }
    
    .up-icon {
      color: #3366FF;
    }
    
    .down-icon {
      color: #FF3333;
    }
    
    .detail-views {
      margin-left: 16px;
      color: #999;
    }
    
    /* 分享弹出层 */
    .share-overlay {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background-color: #FFF;
      border-top-left-radius: 16px;
      border-top-right-radius: 16px;
      box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.1);
      z-index: 2000;
      transform: translateY(100%);
      transition: transform 0.3s ease;
      max-width: var(--app-width);
      margin: 0 auto;
    }
    
    .share-overlay.active {
      transform: translateY(0);
    }
    
    .share-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px;
      border-bottom: 1px solid #EEEEEE;
    }
    
    .share-title {
      font-size: 16px;
      font-weight: 600;
    }
    
    .share-close {
      font-size: 20px;
      cursor: pointer;
    }
    
    .share-options {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      padding: 24px 16px;
    }
    
    .share-option {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 12px;
      cursor: pointer;
    }
    
    .share-option-icon {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 8px;
      font-size: 24px;
      color: #FFF;
    }
    
    .wechat-icon {
      background-color: #07C160;
    }
    
    .weibo-icon {
      background-color: #E6162D;
    }
    
    .qq-icon {
      background-color: #12B7F5;
    }
    
    .facebook-icon {
      background-color: #1877F2;
    }
    
    .twitter-icon {
      background-color: #1DA1F2;
    }
    
    .linkedin-icon {
      background-color: #0A66C2;
    }
    
    .link-icon {
      background-color: #27AE60;
    }
    
    .more-icon {
      background-color: #95A5A6;
    }
    
    .share-option-name {
      font-size: 12px;
      color: #666;
    }
    
    .backdrop {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 1999;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease;
    }
    
    .backdrop.active {
      opacity: 1;
      visibility: visible;
    }
  </style>
</head>
<body>
  <!-- 全局导航 -->
  <div class="global-nav">
    <a href="index.html" class="global-nav-item active">P <span class="nav-arrow">▾</span>
      <div class="submenu">
        <a href="index.html" class="submenu-item">Home</a>
        <a href="news.html" class="submenu-item">News</a>
        <a href="search.html" class="submenu-item">Search</a>
        <a href="call.html" class="submenu-item">Call</a>
        <a href="filters.html" class="submenu-item">Filters</a>
      </div>
    </a>
    <a href="docs.html" class="global-nav-item">D <span class="nav-arrow">▾</span>
      <div class="submenu">
        <a href="docs.html" class="submenu-item">Requirements</a>
        <a href="docs/api.html" class="submenu-item">API Docs</a>
        <a href="docs/design.html" class="submenu-item">Design System</a>
      </div>
    </a>
  </div>

  <!-- List page -->
  <div id="home-page" class="page app-container active">
    <div class="status-bar">
      <div class="status-time">10:20</div>
      <div class="status-icons">
        <div class="status-icon">•••</div>
        <div class="status-icon">📶</div>
        <div class="status-icon">🔋</div>
      </div>
    </div>
    <div class="top-nav">
      <h1>Today's News</h1>
      <div class="nav-icon">🔍</div>
    </div>
    
    <div class="category-tabs">
      <div class="category-tab active">Recommended</div>
      <div class="category-tab">Technology</div>
      <div class="category-tab">Finance</div>
      <div class="category-tab">Sports</div>
      <div class="category-tab">Health</div>
      <div class="category-tab">Education</div>
    </div>
    
    <div class="content-area">
      <div class="news-list">
        <div class="news-card" onclick="navigateTo('detail-page')">
          <div class="news-image">
            <img src="https://via.placeholder.com/100x70" alt="AI Code Generation Technology">
          </div>
          <div class="news-content">
            <div class="news-title">New Breakthrough in AI Technology: Automatic Code Generation Draws Industry Attention</div>
            <div class="news-info">
              <div class="news-source">Technology Daily</div>
              <div class="news-time">2 hours ago</div>
            </div>
            <div class="news-summary">The latest AI research has made significant breakthroughs in code generation, enabling the direct generation of production-ready code.</div>
          </div>
        </div>
        
        <div class="news-card">
          <div class="news-image">
            <img src="https://via.placeholder.com/100x70" alt="Global Economic Outlook">
          </div>
          <div class="news-content">
            <div class="news-title">Global Economic Outlook: Digital Transformation to Be the Main Growth Driver</div>
            <div class="news-info">
              <div class="news-source">Finance Weekly</div>
              <div class="news-time">4 hours ago</div>
            </div>
            <div class="news-summary">The digital economy is expected to be the main driver of global economic growth in the next five years, with an estimated annual growth rate of 15%.</div>
          </div>
        </div>
        
        <div class="news-card">
          <div class="news-image">
            <img src="https://via.placeholder.com/100x70" alt="New Trends in Healthy Diet">
          </div>
          <div class="news-content">
            <div class="news-title">New Trends in Healthy Diet: Plant-based Proteins Become the New Market Favorite</div>
            <div class="news-info">
              <div class="news-source">Health Times</div>
              <div class="news-time">6 hours ago</div>
            </div>
            <div class="news-summary">With the increasing health awareness of people, the market for plant-based protein foods is expanding rapidly, with an annual growth rate of over 20%.</div>
          </div>
        </div>
        
        <div class="news-card">
          <div class="news-image">
            <img src="https://via.placeholder.com/100x70" alt="Education Technology">
          </div>
          <div class="news-content">
            <div class="news-title">Education Technology Boosts Personalized Learning, Significantly Improving Student Performance</div>
            <div class="news-info">
              <div class="news-source">Education Observer</div>
              <div class="news-time">8 hours ago</div>
            </div>
            <div class="news-summary">Schools using AI-powered personalized learning systems report an average 15% improvement in student grades and a significant increase in engagement.</div>
          </div>
        </div>
        
        <div class="news-card">
          <div class="news-image">
            <img src="https://via.placeholder.com/100x70" alt="Sustainable Fashion">
          </div>
          <div class="news-content">
            <div class="news-title">Sustainable Fashion Is No Longer Just a Slogan: Eco-friendly Fabrics Are Widely Used</div>
            <div class="news-info">
              <div class="news-source">Fashion Weekly</div>
              <div class="news-time">10 hours ago</div>
            </div>
            <div class="news-summary">More and more fashion brands are starting to use recycled materials and eco-friendly processes, making sustainable fashion the new industry standard.</div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="bottom-nav">
      <div class="nav-item active">
        <div class="icon">🏠</div>
        <div>Home</div>
      </div>
      <div class="nav-item">
        <div class="icon">🔍</div>
        <div>Discover</div>
      </div>
      <div class="nav-item">
        <div class="icon">👤</div>
        <div>My</div>
      </div>
    </div>
  </div>
  
  <!-- Detail page -->
  <div id="detail-page" class="page app-container">
    <div class="status-bar">
      <div class="status-time">10:20</div>
      <div class="status-icons">
        <div class="status-icon">•••</div>
        <div class="status-icon">📶</div>
        <div class="status-icon">🔋</div>
      </div>
    </div>
    <div class="top-nav">
      <div class="back-btn" onclick="navigateTo('home-page')">◀</div>
      <h1>News Detail</h1>
      <div class="nav-icon">⋮</div>
    </div>
    
    <div class="content-area">
      <div class="detail-container">
        <h2 class="detail-title">New Breakthrough in AI Technology: Automatic Code Generation Draws Industry Attention</h2>
        <div class="detail-info">
          <div class="detail-source">Technology Daily</div>
          <div class="detail-time">2 hours ago</div>
          <div class="detail-views">3.5K views</div>
        </div>
        
        <div class="detail-content">
          <p>According to the latest research report, AI has made significant breakthroughs in the field of code generation. The new generation of models can understand complex requirements and automatically generate high-quality, production-ready code. This technology has attracted wide attention in the technology industry.</p>
          <p>The research team said that the latest AI code generation model can not only understand the functional requirements described in natural language but also understand the business logic to be implemented based on the context and generate code that meets best practices. Compared with previous code assistance tools, the accuracy of the new technology has increased by about 40%, and the error rate has decreased by nearly 60%.</p>
          <p>Several technology giants have begun to integrate this technology into their development tools. Industry analysts predict that this will bring a revolutionary improvement in software development efficiency and also change the way programmers work.</p>
          <p>"In the future, programmers may shift more of their work to requirements analysis and system design, leaving the specific coding work to AI assistants," said a senior developer. "This doesn't mean that programmers will be replaced, but rather that it will allow us to focus on more creative work."</p>
        </div>
        
        <!-- 互动操作区域 -->
        <div class="interaction-bar">
          <div class="interaction-item">
            <div class="interaction-icon up-icon">👍</div>
            <div class="interaction-count">428</div>
          </div>
          <div class="interaction-item">
            <div class="interaction-icon down-icon">👎</div>
            <div class="interaction-count">36</div>
          </div>
          <div class="interaction-item">
            <div class="interaction-icon">💬</div>
            <div class="interaction-count">64</div>
          </div>
          <div class="interaction-item">
            <div class="interaction-icon">🔖</div>
            <div class="interaction-count">125</div>
          </div>
          <div class="interaction-item">
            <div class="interaction-icon">↗️</div>
            <div class="interaction-count">Share</div>
          </div>
        </div>
        
        <div class="divider"></div>
        
        <h3 class="discussion-title">Related Topics</h3>
        
        <div class="related-topics-container">
          <div class="topic-card">
            <div class="topic-icon">🤖</div>
            <div class="topic-content">
              <div class="topic-title">Future of AI Technology</div>
              <div class="topic-info">382K reads · 31K discussions</div>
            </div>
            <div class="topic-arrow">→</div>
          </div>
          
          <div class="topic-card">
            <div class="topic-icon">💼</div>
            <div class="topic-content">
              <div class="topic-title">Programming Career Prospects & AI</div>
              <div class="topic-info">225K reads · 18K discussions</div>
            </div>
            <div class="topic-arrow">→</div>
          </div>
          
          <div class="topic-card">
            <div class="topic-icon">📊</div>
            <div class="topic-content">
              <div class="topic-title">Automated Coding Tools Ranking</div>
              <div class="topic-info">157K reads · 9K discussions</div>
            </div>
            <div class="topic-arrow">→</div>
          </div>
        </div>
        
        <div class="ai-search-cta">
          <div class="ai-search-header">
            <div class="ai-icon">AI</div>
            <h3>Want to know more?</h3>
          </div>
          <button class="ai-search-btn" onclick="navigateTo('ai-page')">Try AI Search ➔</button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- AI search page -->
  <div id="ai-page" class="page app-container">
    <div class="status-bar">
      <div class="status-time">10:20</div>
      <div class="status-icons">
        <div class="status-icon">•••</div>
        <div class="status-icon">📶</div>
        <div class="status-icon">🔋</div>
      </div>
    </div>
    <div class="top-nav">
      <div class="back-btn" onclick="navigateTo('detail-page')">◀</div>
      <h1>AI Assistant</h1>
      <div></div>
    </div>
    
    <div class="content-area">
      <div class="search-container">
        <div class="search-input-container">
          <input type="text" class="search-input" placeholder="Development Prospects of AI Code Generation Technology" value="Development Prospects of AI Code Generation Technology">
          <div class="search-btn">➔</div>
        </div>
        
        <div class="ai-response">
          <div class="ai-response-header">
            <div class="ai-response-avatar">AI</div>
            <h3>AI Assistant</h3>
          </div>
          <p>The AI code generation technology will significantly improve development efficiency in the next five years and will be mainly applied in areas such as automated testing, template code generation, and API integration. According to the latest research, by 2030, about 70% of basic code work may be completed by AI, allowing developers to focus on more creative system design and business logic. This will not replace programmers but will change the development process and create new high-level development roles. At the same time, this technology will also lower the threshold for programming, enabling more people to create software through natural language.</p>
        </div>
        
        <div class="related-questions">
          <h3>You may also want to know</h3>
          <div class="question-item">Will AI programming completely replace manual programming?</div>
          <div class="question-item">Is it still necessary to learn programming?</div>
          <div class="question-item">What are the most powerful AI code generation tools currently?</div>
          <div class="question-item">How secure is the code generated by AI?</div>
        </div>
      </div>
    </div>
    
    <div class="bottom-input-container">
      <input type="text" class="bottom-input" placeholder="Continue to ask questions...">
      <div class="bottom-send-btn">+</div>
    </div>
  </div>

  <!-- 分享弹出层 -->
  <div class="backdrop"></div>
  <div class="share-overlay">
    <div class="share-header">
      <div class="share-title">Share to</div>
      <div class="share-close">×</div>
    </div>
    <div class="share-options">
      <div class="share-option">
        <div class="share-option-icon wechat-icon">W</div>
        <div class="share-option-name">WeChat</div>
      </div>
      <div class="share-option">
        <div class="share-option-icon weibo-icon">W</div>
        <div class="share-option-name">Weibo</div>
      </div>
      <div class="share-option">
        <div class="share-option-icon qq-icon">Q</div>
        <div class="share-option-name">QQ</div>
      </div>
      <div class="share-option">
        <div class="share-option-icon facebook-icon">f</div>
        <div class="share-option-name">Facebook</div>
      </div>
      <div class="share-option">
        <div class="share-option-icon twitter-icon">t</div>
        <div class="share-option-name">Twitter</div>
      </div>
      <div class="share-option">
        <div class="share-option-icon linkedin-icon">in</div>
        <div class="share-option-name">LinkedIn</div>
      </div>
      <div class="share-option">
        <div class="share-option-icon link-icon">🔗</div>
        <div class="share-option-name">Copy link</div>
      </div>
      <div class="share-option">
        <div class="share-option-icon more-icon">⋯</div>
        <div class="share-option-name">More</div>
      </div>
    </div>
  </div>

  <script>
    function navigateTo(pageId) {
      // Hide all pages
      document.querySelectorAll('.page').forEach(page => {
        page.classList.remove('active');
      });
      
      // Show the target page
      document.getElementById(pageId).classList.add('active');
    }
    
    // Add click events to all category tabs
    document.querySelectorAll('.category-tab').forEach(tab => {
      tab.addEventListener('click', function() {
        document.querySelectorAll('.category-tab').forEach(t => {
          t.classList.remove('active');
        });
        this.classList.add('active');
      });
    });
    
    // Add click events to all bottom navigation items
    document.querySelectorAll('.nav-item').forEach(item => {
      item.addEventListener('click', function() {
        document.querySelectorAll('.nav-item').forEach(i => {
          i.classList.remove('active');
        });
        this.classList.add('active');
      });
    });
    
    // 为相关话题卡片添加点击事件
    document.querySelectorAll('.topic-card').forEach(card => {
      card.addEventListener('click', function() {
        // 获取话题标题
        const topicTitle = this.querySelector('.topic-title').textContent;
        
        // 导航到AI页面
        navigateTo('ai-page');
        
        // 设置搜索输入框的值为话题标题
        document.querySelector('.search-input').value = topicTitle;
      });
    });
    
    // AI搜索区域显示/隐藏
    const aiSearchCta = document.querySelector('.ai-search-cta');
    const detailContent = document.querySelector('#detail-page .content-area');
    
    if (detailContent) {
      let lastScrollTop = 0;
      
      detailContent.addEventListener('scroll', function(e) {
        const st = e.target.scrollTop;
        const threshold = 100;
        
        // 显示条件：向下滚动超过阈值，或滚动到底部附近
        if ((st > lastScrollTop && st > threshold) || 
            (st + e.target.clientHeight > e.target.scrollHeight - 200)) {
          aiSearchCta.classList.remove('hidden');
        } else if (st < threshold) {
          // 在顶部区域时隐藏
          aiSearchCta.classList.add('hidden');
        }
        
        lastScrollTop = st;
      });
    }

    // 初始隐藏
    if (aiSearchCta) {
      aiSearchCta.classList.add('hidden');
      
      // 页面加载后延迟显示
      setTimeout(() => {
        aiSearchCta.classList.remove('hidden');
      }, 1000);
    }
    
    // 处理互动功能（点赞、踩、收藏等）
    let isUpvoted = false;
    let isDownvoted = false;
    let upCount = 428;
    let downCount = 36;
    
    // 使用事件委托来处理互动栏的点击事件
    document.addEventListener('click', function(e) {
      // 处理点赞按钮
      if (e.target.closest('.interaction-item:nth-child(1)')) {
        const upIcon = document.querySelector('.up-icon');
        const upCountElem = document.querySelector('.interaction-item:nth-child(1) .interaction-count');
        
        if (isDownvoted) {
          // 如果已经踩了，先取消踩
          isDownvoted = false;
          document.querySelector('.down-icon').style.color = '';
          document.querySelector('.interaction-item:nth-child(2) .interaction-count').textContent = --downCount;
        }
        
        if (!isUpvoted) {
          // 点赞
          isUpvoted = true;
          upIcon.style.color = '#3366FF';
          upIcon.style.transform = 'scale(1.2)';
          upCountElem.textContent = ++upCount;
          
          // 添加点赞动画
          upIcon.classList.add('pulse-animation');
          setTimeout(() => {
            upIcon.classList.remove('pulse-animation');
            upIcon.style.transform = '';
          }, 300);
        } else {
          // 取消点赞
          isUpvoted = false;
          upIcon.style.color = '';
          upCountElem.textContent = --upCount;
        }
      }
      
      // 处理踩按钮
      if (e.target.closest('.interaction-item:nth-child(2)')) {
        const downIcon = document.querySelector('.down-icon');
        const downCountElem = document.querySelector('.interaction-item:nth-child(2) .interaction-count');
        
        if (isUpvoted) {
          // 如果已经点赞了，先取消点赞
          isUpvoted = false;
          document.querySelector('.up-icon').style.color = '';
          document.querySelector('.interaction-item:nth-child(1) .interaction-count').textContent = --upCount;
        }
        
        if (!isDownvoted) {
          // 踩
          isDownvoted = true;
          downIcon.style.color = '#FF3333';
          downIcon.style.transform = 'scale(1.2)';
          downCountElem.textContent = ++downCount;
          
          // 添加踩动画
          downIcon.classList.add('pulse-animation');
          setTimeout(() => {
            downIcon.classList.remove('pulse-animation');
            downIcon.style.transform = '';
          }, 300);
        } else {
          // 取消踩
          isDownvoted = false;
          downIcon.style.color = '';
          downCountElem.textContent = --downCount;
        }
      }
      
      // 处理其他互动按钮...
    });
    
    // 处理阅读量统计 - 当详情页打开时增加阅读量
    document.addEventListener('DOMContentLoaded', function() {
      // 如果是从本地存储中获取的阅读计数
      let viewCount = parseInt(localStorage.getItem('articleViewCount') || "3500");
      
      // 当详情页显示时，增加阅读量
      document.querySelector('#detail-page .detail-views').textContent = `${viewCount} views`;
      
      // 监听详情页的显示事件
      const observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
          if (mutation.target.classList.contains('active') && mutation.target.id === 'detail-page') {
            // 详情页被激活，增加阅读量
            viewCount += 1;
            document.querySelector('#detail-page .detail-views').textContent = `${viewCount} views`;
            localStorage.setItem('articleViewCount', viewCount.toString());
          }
        });
      });
      
      // 配置观察器
      observer.observe(document.querySelector('#detail-page'), {
        attributes: true,
        attributeFilter: ['class']
      });
    });

    // 处理视图计数
    function handleViewCount() {
      // 检查本地存储中是否已经有视图计数
      const storageKey = 'article_' + window.location.href + '_views';
      let views = localStorage.getItem(storageKey) || 0;
      views = parseInt(views) + 1;
      
      // 更新本地存储
      localStorage.setItem(storageKey, views);
      
      // 更新视图计数显示
      let formattedViews = views;
      if (views > 1000) {
        formattedViews = (views / 1000).toFixed(1) + 'K';
      }
      
      const viewCountElement = document.querySelector('.detail-views');
      if (viewCountElement) {
        viewCountElement.textContent = formattedViews + ' views';
      }
    }
    
    // 添加延迟加载，以确保DOM元素都已加载完成
    setTimeout(() => {
      const interactionArea = document.querySelector('.interaction-bar');
      if (interactionArea) {
        interactionArea.style.display = 'flex';
      }
      
      // 首次处理视图计数
      handleViewCount();
    }, 500);
    
    // 分享功能处理
    const shareButton = document.querySelector('.interaction-item:nth-child(5)');
    const backdrop = document.querySelector('.backdrop');
    const shareOverlay = document.querySelector('.share-overlay');
    const closeButton = document.querySelector('.share-close');
    
    // 显示分享弹出层
    if (shareButton) {
      shareButton.addEventListener('click', () => {
        backdrop.classList.add('active');
        shareOverlay.classList.add('active');
      });
    }
    
    // 关闭分享弹出层
    if (closeButton) {
      closeButton.addEventListener('click', () => {
        backdrop.classList.remove('active');
        shareOverlay.classList.remove('active');
      });
    }
    
    // 点击背景关闭分享弹出层
    if (backdrop) {
      backdrop.addEventListener('click', () => {
        backdrop.classList.remove('active');
        shareOverlay.classList.remove('active');
      });
    }
    
    // 处理分享选项点击
    const shareOptions = document.querySelectorAll('.share-option');
    const articleTitle = document.querySelector('.detail-title').textContent;
    
    shareOptions.forEach((option, index) => {
      option.addEventListener('click', () => {
        let platform = '';
        
        // 根据索引确定平台
        switch(index) {
          case 0: platform = 'WeChat'; break;
          case 1: platform = 'Weibo'; break;
          case 2: platform = 'QQ'; break;
          case 3: platform = 'Facebook'; break;
          case 4: platform = 'Twitter'; break;
          case 5: platform = 'LinkedIn'; break;
          case 6: // 复制链接
            navigator.clipboard.writeText(window.location.href)
              .then(() => alert('Link copied to clipboard!'))
              .catch(err => alert('Failed to copy link: ' + err));
            platform = '';
            break;
          case 7: platform = 'More options'; break;
        }
        
        if (platform) {
          alert(`Sharing "${articleTitle}" to ${platform}`);
        }
        
        // 关闭分享弹出层
        backdrop.classList.remove('active');
        shareOverlay.classList.remove('active');
      });
    });
  </script>
  <script src="global-nav.js"></script>
</body>
</html>


