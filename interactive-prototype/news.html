<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>News App</title>
  <link rel="stylesheet" href="common.css">
  <style>
    html, body {
      width: 100%;
      height: 100%;
      overflow: hidden;
      position: fixed;
      touch-action: manipulation;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: var(--background);
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro", "Segoe UI", Roboto, sans-serif;
      color: #333;
      line-height: 1.5;
    }

    .app-container {
      width: var(--app-width);
      height: var(--app-height);
      margin: 0 auto;
      background-color: var(--container-bg);
      display: flex;
      flex-direction: column;
      position: relative;
      border-radius: var(--app-border-radius);
      overflow: hidden;
      box-shadow: var(--app-shadow);
    }

    .status-bar {
      height: 44px;
      padding: 0 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 14px;
      font-weight: 600;
      color: #333;
      background: #FFF;
      position: relative;
    }

    .status-time {
      flex: 1;
    }

    .status-icons {
      display: flex;
      gap: 4px;
      align-items: center;
    }

    .status-icon {
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      background-color: #F6F6F6;
      cursor: pointer;
    }

    /* 小程序胶囊按钮 */
    .mini-program-capsule {
      position: absolute;
      top: 52px;
      right: 16px;
      height: 32px;
      padding: 0 8px;
      background: rgba(0, 0, 0, 0.15);
      border-radius: 16px;
      display: flex;
      align-items: center;
      gap: 4px;
      z-index: 1000;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    .capsule-divider {
      width: 1px;
      height: 18px;
      background: rgba(255, 255, 255, 0.25);
    }

    .capsule-button {
      height: 32px;
      padding: 0 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #FFF;
      font-size: 16px;
      cursor: pointer;
    }

    .top-nav {
      height: 56px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px 16px 0;
      background-color: #FFF;
      border-bottom: 1px solid #EEEEEE;
      position: fixed;
      top: 44px;
      left: 0;
      right: 0;
      z-index: 100;
      max-width: var(--app-width);
      margin-left: auto;
      margin-right: auto;
    }

    .top-nav h1 {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 16px;
    }

    .nav-icon {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 16px;
      background-color: #F6F6F6;
      cursor: pointer;
      margin-right: 48px; /* 添加右边距，避免被胶囊按钮遮挡 */
    }

    .content-area {
      flex: 1;
      overflow-y: auto;
      padding-top: 140px; /* 调整为包含top-nav和category-tabs的高度总和 */
      padding-bottom: 76px;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
      -ms-overflow-style: none;
    }

    .content-area::-webkit-scrollbar {
      display: none;
    }

    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: space-around;
      background-color: #FFF;
      border-top: 1px solid #EEEEEE;
      z-index: 1000;
      max-width: var(--app-width);
      margin-left: auto;
      margin-right: auto;
    }

    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      font-size: 13px;
      color: #999999;
      cursor: pointer;
      flex: 1;
      justify-content: center;
      height: 100%;
    }

    .nav-item.active {
      color: #3366FF;
    }

    .nav-item .icon {
      margin-bottom: 4px;
      font-size: 20px;
    }

    /* 列表页样式 */
    .category-tabs {
      display: flex;
      padding: 8px 12px;
      overflow-x: auto;
      background-color: #FFF;
      white-space: nowrap;
      border-bottom: 1px solid #EEEEEE;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none; /* Firefox */
      -ms-overflow-style: none; /* IE and Edge */
      position: fixed;
      top: 100px;
      left: 0;
      right: 0;
      z-index: 99;
      max-width: var(--app-width);
      margin-left: auto;
      margin-right: auto;
    }

    .category-tabs::-webkit-scrollbar {
      display: none; /* Chrome, Safari and Opera */
    }

    .category-tab {
      padding: 6px 12px;
      margin-right: 8px;
      border-radius: 15px;
      font-size: 14px;
      background-color: #F6F6F6;
      color: #666;
      cursor: pointer;
      flex-shrink: 0;
    }

    .category-tab.active {
      background-color: #3366FF;
      color: #FFF;
    }

    .news-list {
      padding: 12px;
    }

    .news-card {
      display: flex;
      padding: 12px 16px;
      background-color: #FFF;
      border-radius: 8px;
      margin-bottom: 8px;
      cursor: pointer;
      border-bottom: 1px solid #f0f0f0;
      box-shadow: none;
    }

    .news-card:active {
      background-color: #f8f8f8;
    }

    .news-image {
      width: 80px;
      height: 80px;
      border-radius: 6px;
      overflow: hidden;
      flex-shrink: 0;
      margin-right: 12px;
    }

    .news-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .news-content {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .news-title {
      font-size: 16px;
      font-weight: 500;
      margin-bottom: 6px;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
      line-height: 1.3;
    }

    .news-info {
      display: flex;
      align-items: center;
      margin-bottom: 4px;
      font-size: 13px;
      color: #666;
    }

    .news-source {
      margin-right: 8px;
    }

    .news-time {
      font-size: 13px;
      color: #666;
    }

    .news-tags {
      display: flex;
      flex-wrap: wrap;
      margin-bottom: 6px;
    }

    .news-tag {
      font-size: 12px;
      color: #666;
      margin-right: 8px;
    }

    .news-summary {
      font-size: 13px;
      color: #666;
      overflow: hidden;
      text-overflow: ellipsis;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      line-height: 1.3;
    }

    /* 详情页样式 */
    .detail-container {
      padding: 16px;
      padding-top: 32px; /* 确保详情页标题有足够的空间 */
      padding-bottom: 80px; /* 从120px减少到80px，减少底部空白 */
      position: relative;
      height: 100%;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none; /* Firefox */
      -ms-overflow-style: none; /* IE and Edge */
    }

    .detail-container::-webkit-scrollbar {
      display: none; /* Chrome, Safari and Opera */
    }

    .detail-title {
      font-size: 22px;
      font-weight: bold;
      margin-bottom: 12px;
      line-height: 1.3;
    }

    .detail-info {
      display: flex;
      font-size: 14px;
      color: #666;
      margin-bottom: 16px;
    }

    .detail-source {
      margin-right: 16px;
    }

    .detail-time {
      color: #999;
    }

    .detail-content {
      font-size: 16px;
      line-height: 1.6;
      margin-bottom: 24px;
      overflow: hidden;
      position: relative;
      max-height: 102px;
      transition: max-height 0.3s ease;
    }

    .detail-content.expanded {
      max-height: none;
    }

    .detail-content::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 40px;
      background: linear-gradient(transparent, #FFF);
      pointer-events: none;
      transition: opacity 0.3s ease;
    }

    .detail-content.expanded::after {
      opacity: 0;
    }

    .expand-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      padding: 8px;
      color: #3366FF;
      font-size: 14px;
      cursor: pointer;
      background: #FFF;
      border: none;
      position: relative;
      margin-bottom: 16px;
      z-index: 10;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    .expand-btn.expanded {
      position: relative;
      bottom: auto;
      left: auto;
      right: auto;
      margin-top: 16px;
      box-shadow: 0 -1px 3px rgba(0, 0, 0, 0.1);
    }

    .expand-btn::after {
      content: '▼';
      margin-left: 4px;
      font-size: 12px;
      transition: transform 0.3s ease;
    }

    .expand-btn.expanded::after {
      transform: rotate(180deg);
    }

    .divider {
      height: 8px;
      background-color: #F5F5F5;
      margin: 16px -16px;
    }

    .discussion-title {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 16px;
    }

    .chat-container {
      margin-bottom: 16px;
    }

    .chat-bubble {
      max-width: 85%;
      padding: 12px 16px;
      margin-bottom: 12px;
      border-radius: 12px;
      font-size: 14px;
    }

    .system-bubble {
      background-color: #F6F6F6;
      border-radius: 12px 12px 12px 0;
      align-self: flex-start;
    }

    .user-bubble {
      background-color: #E8EFFF;
      border-radius: 12px 12px 0 12px;
      margin-left: auto;
    }

    .ai-bubble {
      background-color: #E3F7EB;
      border-radius: 12px 12px 12px 0;
    }

    .ai-search-cta {
      background-color: #ffffff;
      border: 1px solid #e8e9ed;
      border-radius: 8px;
      padding: 16px;
      position: fixed;
      bottom: 16px;
      left: 50%;
      transform: translateX(-50%);
      width: 90%;
      max-width: 374px;
      z-index: 100;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
      transition: transform 0.3s ease, bottom 0.3s ease;
    }

    .ai-search-cta.hidden {
      bottom: -100px;
    }

    .ai-search-header {
      display: flex;
      align-items: center;
      margin-bottom: 16px;
    }

    .ai-icon {
      width: 32px;
      height: 32px;
      background-color: #4d69fa;
      border-radius: 8px;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      font-weight: 600;
      margin-right: 12px;
    }

    .ai-search-btn {
      width: 100%;
      padding: 12px;
      background-color: #4d69fa;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 15px;
      font-weight: 500;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.2s;
    }
    
    .ai-search-btn:hover {
      background-color: #3c58e5;
    }

    .ai-response {
      background-color: #ffffff;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 24px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }

    .ai-response-header {
      display: flex;
      align-items: center;
      margin-bottom: 16px;
    }

    .ai-response-avatar {
      width: 32px;
      height: 32px;
      background-color: #4d69fa;
      border-radius: 8px;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      font-weight: 600;
      margin-right: 12px;
    }

    .ai-response p {
      font-size: 15px;
      line-height: 1.6;
      color: #1a1c21;
    }

    .related-questions {
      margin-bottom: 24px;
      background-color: #ffffff;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }

    .related-questions h3 {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 16px;
      color: #1a1c21;
    }

    .question-item {
      padding: 12px 16px;
      background-color: #f5f5f8;
      border-radius: 6px;
      font-size: 14px;
      margin-bottom: 8px;
      cursor: pointer;
      color: #4d69fa;
      transition: background-color 0.2s;
    }

    .question-item:hover {
      background-color: #eef0ff;
    }

    .bottom-input-container {
      position: fixed;
      bottom: 16px;
      left: 20px;
      right: 20px;
      padding: 0;
      display: flex;
      align-items: center;
      max-width: 374px;
      margin: 0 auto;
      z-index: 10;
    }

    .bottom-input {
      flex: 1;
      height: 48px;
      border-radius: 8px;
      background-color: #ffffff;
      border: 1px solid #e8e9ed;
      padding: 0 16px;
      font-size: 15px;
      outline: none;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }

    .bottom-send-btn {
      width: 40px;
      height: 40px;
      background-color: #4d69fa;
      border-radius: 8px;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-left: 8px;
      font-size: 18px;
      cursor: pointer;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }

    /* 页面切换动画 */
    .page {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      transform: translateX(100%);
      transition: transform 0.3s ease;
      background-color: #FFF;
      display: none;
      padding-top: 0; /* 确保页面顶部没有额外的内边距 */
    }

    .page.active {
      transform: translateX(0);
      display: block;
    }

    /* 返回按钮 */
    .back-btn {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      cursor: pointer;
    }

    /* 广告样式 */
    .ad-card {
      display: flex;
      background-color: #FFFFFF;
      border-radius: 8px;
      margin-bottom: 8px;
      position: relative;
      padding: 12px 16px;
      border-bottom: 1px solid #f0f0f0;
    }

    .ad-badge {
      position: absolute;
      top: 8px;
      right: 8px;
      background-color: rgba(0, 0, 0, 0.5);
      color: #fff;
      font-size: 10px;
      padding: 2px 6px;
      border-radius: 4px;
    }

    .ad-image {
      width: 80px;
      height: 80px;
      margin-right: 12px;
      flex-shrink: 0;
      border-radius: 6px;
      overflow: hidden;
      background-color: #F3F4F6;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .ad-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .ad-title {
      font-size: 16px;
      font-weight: 500;
      margin-bottom: 6px;
    }

    .ad-description {
      font-size: 13px;
      color: #666;
      margin-bottom: 8px;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .ad-cta {
      display: inline-block;
      background-color: #3366FF;
      color: white;
      padding: 6px 16px;
      border-radius: 16px;
      font-size: 14px;
      text-decoration: none;
      text-align: center;
      width: fit-content;
    }

    /* Dashboard Floating Button */
    .dashboard-button {
      position: fixed;
      bottom: 80px;
      right: 20px;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background-color: #3366FF;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      z-index: 2000;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .dashboard-button:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }

    .dashboard-tooltip {
      position: absolute;
      right: 70px;
      background: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      opacity: 0;
      transition: opacity 0.3s ease;
      white-space: nowrap;
    }

    .dashboard-button:hover .dashboard-tooltip {
      opacity: 1;
    }

    /* 相关话题样式 */
    .related-topics-container {
      margin-bottom: 24px;
    }

    .topic-card {
      display: flex;
      align-items: center;
      padding: 16px;
      background-color: #F8F9FA;
      border-radius: 12px;
      margin-bottom: 12px;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .topic-card:active {
      transform: scale(0.98);
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    }

    .topic-icon {
      width: 40px;
      height: 40px;
      background-color: #E8EFFF;
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      margin-right: 12px;
      flex-shrink: 0;
    }

    .topic-content {
      flex: 1;
      overflow: hidden;
    }

    .topic-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 4px;
      color: #333;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .topic-info {
      font-size: 12px;
      color: #666;
    }

    .topic-arrow {
      margin-left: 12px;
      color: #3366FF;
      font-size: 18px;
      flex-shrink: 0;
    }

    /* 互动操作区域样式 */
    .interaction-bar {
      display: flex;
      justify-content: space-around;
      margin-bottom: 16px;
    }

    .interaction-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: pointer;
      transition: transform 0.2s;
    }
    
    .interaction-item:hover {
      transform: translateY(-2px);
    }

    .interaction-icon {
      font-size: 20px;
      margin-bottom: 4px;
    }

    .interaction-count {
      font-size: 12px;
      color: #666;
    }
    
    .up-icon {
      color: #3366FF;
    }
    
    .down-icon {
      color: #FF3333;
    }
    
    /* 点赞/踩动画效果 */
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.3); }
      100% { transform: scale(1); }
    }
    
    .pulse-animation {
      animation: pulse 0.3s ease-in-out;
    }

    /* 分享弹出层 */
    .backdrop {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 1999;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease;
    }
    
    .backdrop.active {
      opacity: 1;
      visibility: visible;
    }
    
    .share-overlay {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background-color: #FFF;
      border-top-left-radius: 16px;
      border-top-right-radius: 16px;
      box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.1);
      z-index: 2000;
      transform: translateY(100%);
      transition: transform 0.3s ease;
      max-width: var(--app-width);
      margin: 0 auto;
    }
    
    .share-overlay.active {
      transform: translateY(0);
    }
    
    .share-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px;
      border-bottom: 1px solid #EEEEEE;
    }
    
    .share-title {
      font-size: 16px;
      font-weight: 600;
    }
    
    .share-close {
      font-size: 20px;
      cursor: pointer;
    }
    
    .share-options {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      padding: 24px 16px;
    }
    
    .share-option {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 12px;
      cursor: pointer;
    }
    
    .share-option-icon {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 8px;
      font-size: 24px;
      color: #FFF;
    }
    
    .wechat-icon {
      background-color: #07C160;
    }
    
    .weibo-icon {
      background-color: #E6162D;
    }
    
    .qq-icon {
      background-color: #12B7F5;
    }
    
    .facebook-icon {
      background-color: #1877F2;
    }
    
    .twitter-icon {
      background-color: #1DA1F2;
    }
    
    .linkedin-icon {
      background-color: #0A66C2;
    }
    
    .link-icon {
      background-color: #27AE60;
    }
    
    .more-icon {
      background-color: #95A5A6;
    }
    
    .share-option-name {
      font-size: 12px;
      color: #666;
    }

    /* 详情页广告样式 */
    .detail-ad-container {
      background-color: #f8f9fa;
      border-radius: 12px;
      margin: 20px 0;
      padding: 16px;
      border: 1px solid #e9ecef;
    }
    
    .detail-ad-label {
      font-size: 12px;
      color: #6c757d;
      margin-bottom: 8px;
      display: inline-block;
      padding: 2px 6px;
      background-color: #e9ecef;
      border-radius: 4px;
    }
    
    .detail-ad-content {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .detail-ad-image {
      width: 80px;
      height: 80px;
      background-color: #dee2e6;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #6c757d;
      font-size: 20px;
    }
    
    .detail-ad-text {
      flex: 1;
    }
    
    .detail-ad-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 4px;
      color: #212529;
    }
    
    .detail-ad-description {
      font-size: 14px;
      color: #495057;
      margin-bottom: 8px;
    }
    
    .detail-ad-button {
      display: inline-block;
      padding: 6px 12px;
      background-color: #3366FF;
      color: white;
      border-radius: 6px;
      font-size: 12px;
      font-weight: 500;
      text-decoration: none;
    }

    /* AI搜索页样式 - DeepSeek风格 */
    .search-container {
      padding: 16px;
      background-color: #f9f9fb;
    }

    .search-input-container {
      display: flex;
      align-items: center;
      margin-bottom: 24px;
      background-color: #ffffff;
      border-radius: 8px;
      padding: 8px 16px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
    }

    .search-input {
      flex: 1;
      height: 40px;
      border: none;
      background-color: transparent;
      font-size: 15px;
      outline: none;
      color: #1a1c21;
    }

    .search-btn {
      width: 34px;
      height: 34px;
      background-color: #4d69fa;
      border-radius: 6px;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-left: 8px;
      cursor: pointer;
      font-size: 14px;
    }

    /* 确保详情页布局正确 */
    .detail-views {
      font-size: 14px;
      color: #666;
      margin-top: 4px;
      margin-bottom: 16px;
    }

    #detail-page .content-area {
      flex: 1;
      overflow-y: auto;
      padding-top: 60px; /* 从76px减少到60px，避免内容下移过多 */
      padding-bottom: 76px;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
      -ms-overflow-style: none;
      height: calc(100% - 100px); /* 确保有足够的高度可滚动 */
    }

    #detail-page .content-area::-webkit-scrollbar {
      display: none;
    }

    #ai-page .content-area {
      flex: 1;
      overflow-y: auto;
      padding-top: 60px;
      padding-bottom: 76px;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
      -ms-overflow-style: none;
      height: calc(100% - 100px); /* 确保有足够的高度可滚动 */
      background-color: #f9f9fb;
    }

    #ai-page .content-area::-webkit-scrollbar {
      display: none;
    }
  </style>
</head>
<body>
  <!-- 全局导航 -->
      </a>
      <a href="index.html" class="global-nav-item active">P <span class="nav-arrow">▾</span>
        <div class="submenu">
          <a href="index.html" class="submenu-item">Home</a>
          <a href="news.html" class="submenu-item">News</a>
          <a href="search.html" class="submenu-item">Search</a>
          <a href="call.html" class="submenu-item">Call</a>
          <a href="filters.html" class="submenu-item">Filters</a>
        </div>
      </a>
      <a href="docs.html" class="global-nav-item">D <span class="nav-arrow">▾</span>
        <div class="submenu">
          <a href="docs.html" class="submenu-item">Requirements</a>
          <a href="docs/api.html" class="submenu-item">API Docs</a>
          <a href="docs/design.html" class="submenu-item">Design System</a>
        </div>
      </a>
      <div class="submenu">
        <a href="docs.html" class="submenu-item">Requirements</a>
        <a href="docs/api.html" class="submenu-item">API Docs</a>
        <a href="docs/design.html" class="submenu-item">Design System</a>
      </div>
    </a>
  </div>

<div class="app-container">
    <div class="status-bar">
      <div class="status-time">10:20</div>
      <div class="status-icons">
        <div class="status-icon">•••</div>
        <div class="status-icon">📶</div>
        <div class="status-icon">🔋</div>
      </div>
    </div>

    <!-- 小程序胶囊按钮 -->
    <div class="mini-program-capsule">
      <div class="capsule-button">···</div>
      <div class="capsule-divider"></div>
      <div class="capsule-button" onclick="window.location.href='index.html'">×</div>
    </div>

    <!-- 列表页 -->
    <div id="home-page" class="page active">
      <div class="top-nav">
        <h1>Today's News</h1>
        <div class="nav-icon" onclick="window.location.href='search.html'">🔍</div>
      </div>
      
      <div class="category-tabs">
        <div class="category-tab">🕌 Abu Dhabi</div>
        <div class="category-tab active">🌟 Recommend</div>
        <div class="category-tab">💻 Technology</div>
        <div class="category-tab">💰 Finance</div>
        <div class="category-tab">⚽️ Sports</div>
        <div class="category-tab">🏥 Health</div>
        <div class="category-tab">📚 Education</div>
      </div>
      
      <div class="content-area">
        <div class="news-list">
          <div class="news-card" onclick="navigateTo('detail-page')">
            <div class="news-image">
              <img src="https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?w=500&auto=format" alt="Tech News">
            </div>
            <div class="news-content">
              <div class="news-title">Latest AI Breakthrough: Automated Code Generation Gains Industry Attention</div>
              <div class="news-info">
                <div class="news-source">Tech Daily</div>
                <div class="news-time">2 hours ago</div>
              </div>
              <div class="news-tags">
                <div class="news-tag">#Technology</div>
                <div class="news-tag">#Trending</div>
              </div>
              <div class="news-summary">New AI research achieves milestone in code generation...</div>
            </div>
          </div>
          
          <div class="news-card">
            <div class="news-image">
              <img src="https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?w=500&auto=format" alt="Tech News">
            </div>
            <div class="news-content">
              <div class="news-title">Global Economic Outlook: Digital Transformation to Drive Growth</div>
              <div class="news-info">
                <div class="news-source">Financial Weekly</div>
                <div class="news-time">4 hours ago</div>
              </div>
              <div class="news-tags">
                <div class="news-tag">#Finance</div>
                <div class="news-tag">#Digital</div>
              </div>
              <div class="news-summary">Digital economy expected to contribute 15% annual growth as primary driver through 2030.</div>
            </div>
          </div>
          
          <div class="news-card">
            <div class="news-image">
              <img src="https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?w=500&auto=format" alt="Tech News">
            </div>
            <div class="news-content">
              <div class="news-title">New Trend in Healthy Eating: Plant Protein Gains Popularity</div>
              <div class="news-info">
                <div class="news-source">Health Times</div>
                <div class="news-time">6 hours ago</div>
              </div>
              <div class="news-tags">
                <div class="news-tag">#Health</div>
                <div class="news-tag">#Food</div>
              </div>
              <div class="news-summary">With growing health awareness, the plant-based protein food market is expanding rapidly with annual growth exceeding 20%.</div>
            </div>
          </div>
          
          <!-- Ad Card -->
          <div class="ad-card">
            <div class="ad-badge">Ad</div>
            <div class="ad-image">
              <svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="80" height="80" fill="#F3F4F6"/>
                <text x="40" y="50" text-anchor="middle" fill="#3366FF" font-size="16" font-weight="bold">OFFER</text>
              </svg>
            </div>
            <div class="ad-content">
              <div>
                <div class="ad-title">Special Learning Offer</div>
                <div class="ad-description">Get 50% off on all programming courses this week! Master the latest tech skills.</div>
              </div>
              <a href="#" class="ad-cta">Learn More</a>
            </div>
          </div>
          
          <div class="news-card">
            <div class="news-image">
              <img src="https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?w=500&auto=format" alt="Tech News">
            </div>
            <div class="news-content">
              <div class="news-title">EdTech Boosts Personalized Learning with Remarkable Results</div>
              <div class="news-info">
                <div class="news-source">Education Observer</div>
                <div class="news-time">8 hours ago</div>
              </div>
              <div class="news-tags">
                <div class="news-tag">#Education</div>
                <div class="news-tag">#Technology</div>
              </div>
              <div class="news-summary">Schools using AI-powered personalized learning systems report 15% average grade improvement and significantly increased engagement.</div>
            </div>
          </div>
          
          <div class="news-card">
            <div class="news-image">
              <img src="https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?w=500&auto=format" alt="Tech News">
            </div>
            <div class="news-content">
              <div class="news-title">Sustainable Fashion: More Than Just a Slogan with Eco-Friendly Materials</div>
              <div class="news-info">
                <div class="news-source">Fashion Weekly</div>
                <div class="news-time">10 hours ago</div>
              </div>
              <div class="news-tags">
                <div class="news-tag">#Fashion</div>
                <div class="news-tag">#Sustainability</div>
              </div>
              <div class="news-summary">More fashion brands are adopting recycled materials and eco-friendly processes, making sustainability the new industry standard.</div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="bottom-nav">
        <div class="nav-item active">
          <div class="icon">🏠</div>
          <div>Home</div>
        </div>
        <div class="nav-item">
          <div class="icon">🔍</div>
          <div>Discover</div>
        </div>
        <div class="nav-item" onclick="window.location.href='dashboard.html'">
          <div class="icon">📊</div>
          <div>Dashboard</div>
        </div>
      </div>
    </div>
    
    <!-- Detail Page -->
    <div id="detail-page" class="page">
      <div class="top-nav">
        <div class="back-btn" onclick="navigateTo('home-page')">◀</div>
        <h1>News Details</h1>
        <div class="nav-icon" style="margin-right: 0;">•••</div>
      </div>
      
      <div class="content-area">
        <div class="detail-container">
          <h2 class="detail-title">Latest AI Breakthrough: Automated Code Generation Gains Industry Attention</h2>
          <div class="detail-info">
            <div class="detail-source">Tech Daily</div>
            <div class="detail-time">2 hours ago</div>
          </div>
          
          <div class="news-tags" style="margin-bottom: 16px;">
            <div class="news-tag">#Technology</div>
            <div class="news-tag">#Trending</div>
          </div>
          
          <div class="detail-content">
            <p>The world of programming is undergoing a major transformation with the rise of AI-powered code generation. These breakthroughs promise to reshape how software is built and who can participate in the development process.</p>
            
            <p>"This technology represents a fundamental shift in how we approach programming," says Dr. Sarah Chen, AI research lead at CodeFuture. "Rather than writing every line of code manually, developers can focus on higher-level design while AI handles repetitive implementation details."</p>
            
            <h2>Impact on Development Teams</h2>
            <p>For professional development teams, the benefits are already becoming apparent:</p>
            <ul>
              <li>Reduced time spent on boilerplate code</li>
              <li>Faster prototyping and iteration</li>
              <li>More time for complex problem-solving</li>
            </ul>
            
            <!-- 详情页广告 -->
            <div class="detail-ad-container">
              <span class="detail-ad-label">Sponsored</span>
              <div class="detail-ad-content">
                <div class="detail-ad-image">📱</div>
                <div class="detail-ad-text">
                  <div class="detail-ad-title">Learn AI Programming Today</div>
                  <div class="detail-ad-description">Master the latest AI techniques with our online courses. 30% discount for new students!</div>
                  <a href="#" class="detail-ad-button">Get Started</a>
                </div>
              </div>
            </div>
            
            <h2>The Road Ahead</h2>
            <p>As these technologies mature, the relationship between developers and AI tools will continue to evolve. Rather than replacing programmers, these systems are creating new collaboration models where human creativity and AI capabilities complement each other.</p>
            
            <p>"The most successful teams will be those that effectively combine human insight with AI assistance," says Dr. Chen. "It's not about replacing developers—it's about amplifying what they can accomplish."</p>
          </div>
          
          <!-- 展开按钮改为处于内容之外 -->
          <button class="expand-btn">Show full article</button>
            
          <!-- 互动功能区 - 移除评论和收藏入口 -->
          <div class="interaction-bar">
            <div class="interaction-item upvote-btn">
              <div class="up-icon">👍</div>
              <div class="count upvote-count">128</div>
            </div>
            <div class="interaction-item downvote-btn">
              <div class="down-icon">👎</div>
              <div class="count downvote-count">12</div>
            </div>
            <div class="interaction-item share-btn">
              <div>↗️</div>
              <div class="count">16</div>
            </div>
          </div>

            <div class="divider"></div>
            
            <div class="related-questions">
              <h3>You might also want to know</h3>
              <div class="question-item" onclick="navigateToAIWithQuestion('Will AI programming completely replace human programming?')">Will AI programming completely replace human programming?</div>
              <div class="question-item" onclick="navigateToAIWithQuestion('Is learning programming still necessary?')">Is learning programming still necessary?</div>
              <div class="question-item" onclick="navigateToAIWithQuestion('What are the most powerful AI code generation tools currently?')">What are the most powerful AI code generation tools currently?</div>
              <div class="question-item" onclick="navigateToAIWithQuestion('How secure is AI-generated code?')">How secure is AI-generated code?</div>
            </div>
            
            <!-- 移除Hot Topics部分，已迁移到AI页面 -->
            
            <!-- Want to know more 移到页面固定在底部 -->
            <div class="ai-search-cta">
              <div class="ai-search-header">
                <div class="ai-icon">D</div>
                <h3>Want to know more?</h3>
              </div>
              <button class="ai-search-btn" onclick="navigateTo('ai-page')">Ask DeepSeek AI ➔</button>
            </div>
        </div>
      </div>
    </div>
    
    <!-- AI Search Page -->
    <div id="ai-page" class="page">
      <div class="top-nav">
        <div class="back-btn" onclick="navigateTo('detail-page')">◀</div>
        <h1>DeepSeek AI</h1>
        <div></div>
      </div>
      
      <div class="content-area" style="background-color: #f9f9fb;">
        <div class="search-container">
          <div class="search-input-container">
            <input type="text" class="search-input" placeholder="Ask me anything about AI code generation..." value="Future prospects of AI code generation technology">
            <div class="search-btn">➔</div>
          </div>
          
          <div class="ai-response">
            <div class="ai-response-header">
              <div class="ai-response-avatar">D</div>
              <h3>DeepSeek AI</h3>
            </div>
            <p>AI code generation technology will significantly improve development efficiency over the next five years, primarily in: automated testing, template code generation, and API integration. According to recent research, by 2030, about 70% of basic coding work could be done by AI, allowing developers to focus on more creative system design and business logic. This won't replace programmers but will transform the development process, creating new senior development roles. Additionally, this technology will lower programming barriers, enabling more people to create software using natural language.</p>
          </div>
          
          <!-- 从详情页面移动过来的Hot Topics部分 -->
          <div class="hot-topics">
            <h3>Hot Topics</h3>
              
            <div class="topic-card" onclick="navigateTo('detail-page')">
              <div class="topic-icon">🚀</div>
              <div class="topic-content">
                <div class="topic-title">The Future of No-Code Development</div>
                <div class="topic-info">234K reads · 15K discussions</div>
              </div>
              <div class="topic-arrow">→</div>
            </div>
              
            <div class="topic-card" onclick="navigateTo('detail-page')">
              <div class="topic-icon">📊</div>
              <div class="topic-content">
                <div class="topic-title">Automated Coding Tools Ranking</div>
                <div class="topic-info">157K reads · 9K discussions</div>
              </div>
              <div class="topic-arrow">→</div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="bottom-input-container">
        <input type="text" class="bottom-input" placeholder="Ask DeepSeek AI a follow-up question...">
        <div class="bottom-send-btn">➔</div>
      </div>
    </div>
  </div>

  <!-- Floating Dashboard Button -->
  <a href="d-income-comparison.html" class="dashboard-button">
    📊
    <span class="dashboard-tooltip">View Dashboard</span>
  </a>

  <!-- 分享弹出层 -->
  <div class="backdrop"></div>
  <div class="share-overlay">
    <div class="share-header">
      <div class="share-title">Share to</div>
      <div class="share-close">×</div>
    </div>
    <div class="share-options">
      <div class="share-option">
        <div class="share-option-icon wechat-icon">W</div>
        <div class="share-option-name">WeChat</div>
      </div>
      <div class="share-option">
        <div class="share-option-icon weibo-icon">W</div>
        <div class="share-option-name">Weibo</div>
      </div>
      <div class="share-option">
        <div class="share-option-icon qq-icon">Q</div>
        <div class="share-option-name">QQ</div>
      </div>
      <div class="share-option">
        <div class="share-option-icon facebook-icon">f</div>
        <div class="share-option-name">Facebook</div>
      </div>
      <div class="share-option">
        <div class="share-option-icon twitter-icon">t</div>
        <div class="share-option-name">Twitter</div>
      </div>
      <div class="share-option">
        <div class="share-option-icon linkedin-icon">in</div>
        <div class="share-option-name">LinkedIn</div>
      </div>
      <div class="share-option">
        <div class="share-option-icon link-icon">🔗</div>
        <div class="share-option-name">Copy link</div>
      </div>
      <div class="share-option">
        <div class="share-option-icon more-icon">⋯</div>
        <div class="share-option-name">More</div>
      </div>
    </div>
  </div>

  <script>
    // 新闻数据数组
    const newsData = [
      {
        title: "Latest AI Breakthrough: Automated Code Generation Gains Industry Attention",
        source: "Tech Daily",
        time: "2 hours ago",
        tags: ["Technology", "Trending"],
        summary: "New AI research achieves milestone in code generation..."
      },
      {
        title: "Global Economic Outlook: Digital Transformation to Drive Growth",
        source: "Financial Weekly",
        time: "4 hours ago",
        tags: ["Finance", "Digital"],
        summary: "Digital economy expected to contribute 15% annual growth as primary driver through 2030."
      },
      {
        title: "New Trend in Healthy Eating: Plant Protein Gains Popularity",
        source: "Health Times",
        time: "6 hours ago",
        tags: ["Health", "Food"],
        summary: "With growing health awareness, the plant-based protein food market is expanding rapidly with annual growth exceeding 20%."
      },
      {
        title: "EdTech Boosts Personalized Learning with Remarkable Results",
        source: "Education Observer",
        time: "8 hours ago",
        tags: ["Education", "Technology"],
        summary: "Schools using AI-powered personalized learning systems report 15% average grade improvement and significantly increased engagement."
      },
      {
        title: "Sustainable Fashion: More Than Just a Slogan with Eco-Friendly Materials",
        source: "Fashion Weekly",
        time: "10 hours ago",
        tags: ["Fashion", "Sustainability"],
        summary: "More fashion brands are adopting recycled materials and eco-friendly processes, making sustainability the new industry standard."
      }
    ];

    // 创建新闻卡片HTML
    function createNewsCard(news) {
      return `
        <div class="news-card" onclick="navigateTo('detail-page')">
          <div class="news-image">
            <img src="https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?w=500&auto=format" alt="Tech News">
          </div>
          <div class="news-content">
            <div class="news-title">${news.title}</div>
            <div class="news-info">
              <div class="news-source">${news.source}</div>
              <div class="news-time">${news.time}</div>
            </div>
            <div class="news-tags">
              ${news.tags.map(tag => `<div class="news-tag">#${tag}</div>`).join('')}
            </div>
            <div class="news-summary">${news.summary}</div>
          </div>
        </div>
      `;
    }

    // 随机打乱数组
    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    // 更新新闻列表
    function updateNewsList() {
      const newsContainer = document.querySelector('.news-list');
      const adCard = document.querySelector('.ad-card');
      const shuffledNews = shuffleArray([...newsData]);
      
      // 清空现有内容
      newsContainer.innerHTML = '';
      
      // 添加前三条新闻
      for (let i = 0; i < 3; i++) {
        newsContainer.innerHTML += createNewsCard(shuffledNews[i]);
      }
      
      // 添加广告
      newsContainer.appendChild(adCard);
      
      // 添加剩余新闻
      for (let i = 3; i < shuffledNews.length; i++) {
        newsContainer.innerHTML += createNewsCard(shuffledNews[i]);
      }
    }

    function navigateTo(pageId) {
      document.querySelectorAll('.page').forEach(page => {
        page.classList.remove('active');
      });
      document.getElementById(pageId).classList.add('active');
      
      // 如果是详情页，调整布局确保内容正确显示
      if (pageId === 'detail-page') {
        setTimeout(() => {
          // 重置滚动位置
          const contentArea = document.querySelector('#detail-page .content-area');
          if (contentArea) {
            contentArea.scrollTop = 0;
          }
          
          // 确保详情页广告正确显示
          const adContainer = document.querySelector('.detail-ad-container');
          if (adContainer) {
            adContainer.style.display = 'block';
          }
          
          // 显示浏览量
          const detailInfo = document.querySelector('.detail-info');
          if (detailInfo && !document.querySelector('.detail-views')) {
            const viewsElement = document.createElement('div');
            viewsElement.className = 'detail-views';
            
            // 获取或设置初始浏览量
            const currentViews = localStorage.getItem('articleViews') || 3500;
            const newViews = parseInt(currentViews) + 1;
            localStorage.setItem('articleViews', newViews);
            
            // 格式化浏览量显示
            let formattedViews;
            if (newViews >= 1000) {
              formattedViews = (newViews / 1000).toFixed(1) + 'K';
            } else {
              formattedViews = newViews;
            }
            
            viewsElement.textContent = formattedViews + ' views';
            detailInfo.parentNode.insertBefore(viewsElement, detailInfo.nextSibling);
          }
          
          // 确保内容正确展开
          const detailContent = document.querySelector('.detail-content');
          if (detailContent) {
            if (detailContent.scrollHeight > 102) {
              detailContent.style.maxHeight = '102px';
            } else {
              detailContent.style.maxHeight = 'none';
            }
          }
          
          // 确保"Want to know more"区域显示
          const aiSearchCta = document.querySelector('.ai-search-cta');
          if (aiSearchCta) {
            aiSearchCta.classList.remove('hidden');
            aiSearchCta.style.display = 'block';
          }
        }, 100);
      }
    }
    
    // 为所有分类标签添加点击事件
    document.querySelectorAll('.category-tab').forEach(tab => {
      tab.addEventListener('click', function() {
        document.querySelectorAll('.category-tab').forEach(t => {
          t.classList.remove('active');
        });
        this.classList.add('active');
        // 点击标签时随机改变新闻顺序
        updateNewsList();
      });
    });
    
    // 为所有底部导航项添加点击事件
    document.querySelectorAll('.nav-item').forEach(item => {
      item.addEventListener('click', function() {
        document.querySelectorAll('.nav-item').forEach(i => {
          i.classList.remove('active');
        });
        this.classList.add('active');
      });
    });
    
    // 为展开按钮添加点击事件
    document.querySelector('.expand-btn').addEventListener('click', function() {
      const content = document.querySelector('.detail-content');
      const isExpanded = content.classList.toggle('expanded');
      this.classList.toggle('expanded');
      
      if (isExpanded) {
        content.style.maxHeight = 'none';
        this.textContent = 'Show less';
      } else {
        content.style.maxHeight = '102px';
        this.textContent = 'Show full article';
      }
    });

    // 为相关话题卡片添加点击事件
    document.querySelectorAll('.topic-card').forEach(card => {
      card.addEventListener('click', function() {
        // 获取话题标题
        const topicTitle = this.querySelector('.topic-title').textContent;
        
        // 导航到AI页面
        navigateTo('ai-page');
        
        // 设置搜索输入框的值为话题标题
        document.querySelector('.search-input').value = topicTitle;
        
        // 可以在这里添加触发搜索的代码，如果需要自动搜索
      });
    });

    // 滚动方向检测和AI搜索区域显示/隐藏
    let lastScrollTop = 0;
    const aiSearchCta = document.querySelector('.ai-search-cta');
    const detailContent = document.querySelector('#detail-page .content-area');
    
    if (detailContent) {
      detailContent.addEventListener('scroll', function(e) {
        const st = e.target.scrollTop;
        const threshold = 100;
        
        // 显示条件：向下滚动超过阈值，或滚动到底部附近
        if ((st > lastScrollTop && st > threshold) || 
            (st + e.target.clientHeight > e.target.scrollHeight - 200)) {
          aiSearchCta.classList.remove('hidden');
        } else if (st < threshold) {
          // 在顶部区域时隐藏
          aiSearchCta.classList.add('hidden');
        }
        
        lastScrollTop = st;
      });
    }

    // 初始隐藏
    if (aiSearchCta) {
      aiSearchCta.classList.add('hidden');
      
      // 页面加载后延迟显示
      setTimeout(() => {
        aiSearchCta.classList.remove('hidden');
      }, 1000);
    }
    
    // 互动功能处理
    document.addEventListener('click', function(e) {
      // 处理点赞按钮
      if (e.target.closest('#detail-page .interaction-item:nth-child(1)')) {
        // 处理点赞逻辑
      }
      
      // 处理踩按钮
      if (e.target.closest('#detail-page .interaction-item:nth-child(2)')) {
        // 处理踩逻辑
      }
      
      // 处理分享按钮
      if (e.target.closest('#detail-page .interaction-item:nth-child(3)')) {
        document.querySelector('.backdrop').classList.add('active');
        document.querySelector('.share-overlay').classList.add('active');
      }
    });
    
    // 关闭分享弹出层
    document.querySelector('.share-close').addEventListener('click', function() {
      document.querySelector('.backdrop').classList.remove('active');
      document.querySelector('.share-overlay').classList.remove('active');
    });
    
    // 点击背景关闭分享弹出层
    document.querySelector('.backdrop').addEventListener('click', function() {
      document.querySelector('.backdrop').classList.remove('active');
      document.querySelector('.share-overlay').classList.remove('active');
    });
    
    // 处理分享选项点击
    const shareOptions = document.querySelectorAll('.share-option');
    shareOptions.forEach((option, index) => {
      option.addEventListener('click', () => {
        let platform = '';
        
        // 根据索引确定平台
        switch(index) {
          case 0: platform = 'WeChat'; break;
          case 1: platform = 'Weibo'; break;
          case 2: platform = 'QQ'; break;
          case 3: platform = 'Facebook'; break;
          case 4: platform = 'Twitter'; break;
          case 5: platform = 'LinkedIn'; break;
          case 6: // 复制链接
            navigator.clipboard.writeText(window.location.href)
              .then(() => alert('Link copied to clipboard!'))
              .catch(err => alert('Failed to copy link: ' + err));
            platform = '';
            break;
          case 7: platform = 'More options'; break;
        }
        
        if (platform) {
          alert(`Sharing article to ${platform}`);
        }
        
        // 关闭分享弹出层
        document.querySelector('.backdrop').classList.remove('active');
        document.querySelector('.share-overlay').classList.remove('active');
      });
    });

    // 初始化函数 - 在页面加载完成后执行
    function initializeApp() {
      // 确保详情页内容显示正常
      const detailContent = document.querySelector('.detail-content');
      if (detailContent) {
        // 默认显示收起状态
        detailContent.style.maxHeight = '102px';
      }
      
      // 确保广告正确显示
      const adContainer = document.querySelector('.detail-ad-container');
      if (adContainer) {
        adContainer.style.display = 'block';
      }
      
      // 添加浏览量计数到详情页
      const detailInfo = document.querySelector('.detail-info');
      if (detailInfo && !document.querySelector('.detail-views')) {
        const viewsElement = document.createElement('div');
        viewsElement.className = 'detail-views';
        
        // 获取初始浏览量
        const views = localStorage.getItem('articleViews') || 3500;
        const formattedViews = parseInt(views) >= 1000 ? 
          (parseInt(views) / 1000).toFixed(1) + 'K' : views;
        
        viewsElement.textContent = formattedViews + ' views';
        detailInfo.parentNode.insertBefore(viewsElement, detailInfo.nextSibling);
      }
    }
    
    // 页面加载后执行初始化
    document.addEventListener('DOMContentLoaded', initializeApp);

    // 导航到AI页面并填充问题
    function navigateToAIWithQuestion(question) {
      navigateTo('ai-page');
      setTimeout(() => {
        document.querySelector('.search-input').value = question;
      }, 100);
    }
  </script>
</body>
</html>
